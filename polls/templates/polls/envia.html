<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="https://www.gstatic.com/firebasejs/5.5.5/firebase.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        function Consulta() {
    $(document).ready(function () {
        $("button").click(function () {
            $.get("https://teste-4e32b.firebaseio.com/Tabela.json", function (data, status) {
                alert("Data: " + data[0].latitude + "\nStatus: " + status);
            });
        });
    });
}
function criaMapa(initialCoordinates,initialZoomLevel) {
    var  mapa = L.map('map').setView(initialCoordinates, initialZoomLevel);
    // add an OpenStreetMap tile layer
    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png',
        {
            attribution: '&copy; Contribuidores do <a href="http://osm.org/copyright">OpenStreetMap</a>'
        }).addTo(mapa);
    return mapa
}
function CriaMarker(lat,long,mapa){
    l =  L.marker([lat,long]).addTo(mapa);
}
function removeMarker(){
    mapa.removeLayer(l);
}
function moveMarker(proxLat,proxLong){
    removeMarker();
    CriaMarker(proxLat,proxLong,mapa);
}
function myFunction(ola) {
    alert(ola);
}
function Atualizar() {
    $(document).ready(function () {

            $.get("https://teste-4e32b.firebaseio.com/Tabela.json", function (Tabela) {
                moveMarker(Tabela[(Tabela.length)-1].latitude,Tabela[(Tabela.length)-1].longitude);
            });

    });
}
function Inserir(name, latitude, longitude) {
    $(document).ready(function () {
        $.get("https://teste-4e32b.firebaseio.com/Tabela.json", function (Tabela) {
            firebase.database().ref('Tabela/' + (Tabela.length).toString() ).set({
                nome: name,
                latitude: latitude,
                longitude : longitude

            });
        });
        alert("Dados inseridos corretamente");

    });

}



        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyDXI5Hcatrw9RpYzf4yPVbjeBZxuWenqm0",
            authDomain: "teste-4e32b.firebaseapp.com",
            databaseURL: "https://teste-4e32b.firebaseio.com",
            projectId: "teste-4e32b",
            storageBucket: "teste-4e32b.appspot.com",
            messagingSenderId: "307923993563"
        };
        firebase.initializeApp(config);

        Inserir("teste12", "{{latitude}}", "{{longitude}}");
    </script>
</head>
<body>

</body>
</html>